<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/account"></ion-back-button>
    </ion-buttons>
    <ion-title slot="start" class="ion-text-left ion-no-padding">Addresses</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid *ngIf="addresses && addresses.length>0" class="backgroundGrey">
    <ion-card class="ion-no-padding ion-no-margin mT10">
      <ion-row class="darkColor">
        <ion-col size="12" size-sm="12">
          <ion-card-header>
            <ion-card-title class="primaryColor"> Default Address
              <ion-button class="ion-float-right" fill="outline" (click)="changeDefaultAddress()">Change</ion-button>
            </ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <ion-row>
              <ion-col size="12">
                <ion-label class="mediumText">
                  {{ addresses[1].defaultAddress.firstname }} {{ addresses[1].defaultAddress?.lastname }}
                </ion-label>
              </ion-col>
              <ion-col size="12">
                <ion-label class="mediumText">
                  #{{ addresses[1].defaultAddress.house }}, {{ addresses[1].defaultAddress.address }}, {{ addresses[1].defaultAddress?.address1 }}
                </ion-label>
              </ion-col>
              <ion-col size="12">
                <ion-label *ngIf="addresses[1].defaultAddress.street" class="mediumText">
                  Street number: {{ addresses[1].defaultAddress?.street }}
                </ion-label>
              </ion-col>
              <ion-col size="12">
                <ion-label class="mediumText">
                  {{ addresses[1].defaultAddress.city }}, {{ addresses[1].defaultAddress.state }} - {{ addresses[1].defaultAddress.pincode }}
                </ion-label>
              </ion-col>
              <ion-col size="12">
                <ion-label class="mediumText">
                  Contact: {{ addresses[1].defaultAddress.contact }}
                </ion-label>
              </ion-col>
            </ion-row>
          </ion-card-content>
        </ion-col>
      </ion-row>
    </ion-card>

    <ion-card *ngFor="let address of addresses[0].addressList; let i=index" class="ion-no-padding ion-no-margin mT10">
      <ion-row class="darkColor">
        <ion-col size="12" size-sm="12">
          <ion-card-header>
            <ion-card-subtitle class="primaryColor mediumText"> Secondary Address {{ i+1 }}
              <span class="ion-float-right editIcons">
                <ion-icon (click)="edit(address, i)" name="pencil"></ion-icon>&nbsp;
                <ion-icon (click)="delete(address, i)" name="trash"></ion-icon>
              </span>
            </ion-card-subtitle>
          </ion-card-header>
          <ion-card-content>
            <ion-row>
              <ion-col size="12">
                <ion-label class="mediumText">
                  {{ address.firstname }} {{ address?.lastname }}
                </ion-label>
              </ion-col>
              <ion-col size="12">
                <ion-label class="mediumText">
                  #{{ address.house }}, {{ address.address }}, {{ address?.address1 }}
                </ion-label>
              </ion-col>
              <ion-col size="12">
                <ion-label *ngIf="address.street" class="mediumText">
                  Street number: {{ address?.street }}
                </ion-label>
              </ion-col>
              <ion-col size="12">
                <ion-label class="mediumText">
                   {{ address.city }}, {{ address.state }} - {{ address.pincode }}
                </ion-label>
              </ion-col>
              <ion-col size="12">
                <ion-label class="mediumText">
                  Contact: {{ address.contact }}
                </ion-label>
              </ion-col>
            </ion-row>
          </ion-card-content>
        </ion-col>
      </ion-row>
    </ion-card>

    <ion-button class="mT30 serifFont" (click)="addAddress()" box-shadow="3px 3px 5px 6px #ccc;" expand="full">Add new address</ion-button>
  </ion-grid>
</ion-content>